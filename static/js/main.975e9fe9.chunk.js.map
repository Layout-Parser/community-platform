{"version":3,"sources":["Model.js","assets/lp-badge-white.svg","components/header.js","App.js","index.js"],"names":["Comments","props","commentBox","React","createRef","id","issue","number","toString","state","a","script","document","createElement","setAttribute","this","current","appendChild","console","log","className","type","icon","LeftSquareOutlined","onClick","back","title","class","author","user","login","avatar","shape","size","src","avatar_url","alt","content","body","ref","Component","Header","role","href","image","data-target","querySelector","classList","toggle","onMouseDown","e","preventDefault","rel","target","GithubOutlined","octokit","Octokit","require","App","drawRows","issues","length","cols","forEach","push","span","isMobile","event","trackEvent","parentElement","aIssue","setState","page","issueNumber","drawModels","i","j","groupedIssues","rows","openingIssues","filter","slice","sideBarIssues","category","models","labels","map","name","includes","ua","navigator","userAgent","test","backToMain","bind","request","then","response","data","routing","exact","path","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.975e9fe9.chunk.js","sourcesContent":["import \"./styles/Model.scss\";\r\nimport React, { Component } from \"react\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport \"github-markdown-css\";\r\nimport { Divider, Comment, Avatar, Button } from \"antd\";\r\nimport { LeftSquareOutlined } from \"@ant-design/icons\";\r\n\r\nexport default class Comments extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.commentBox = React.createRef();\r\n    this.id = this.props.issue.number.toString();\r\n    this.state = {\r\n      issue: this.props.issue,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let script = document.createElement(\"script\");\r\n    script.setAttribute(\"src\", \"https://utteranc.es/client.js\");\r\n    script.setAttribute(\"repo\", \"WeiningLi/card-forum\");\r\n    script.setAttribute(\"issue-number\", this.id);\r\n    script.setAttribute(\"theme\", \"github-light\");\r\n    script.setAttribute(\"crossorigin\", \"anonymous\");\r\n    script.setAttribute(\"async\", true);\r\n    this.commentBox.current.appendChild(script);\r\n  }\r\n\r\n  render() {\r\n    const { issue } = this.state;\r\n    console.log(issue);\r\n\r\n    return (\r\n      <p className=\"model-container\">\r\n        <div>\r\n          <Button\r\n            className=\"return-btn\"\r\n            type=\"text\"\r\n            icon={<LeftSquareOutlined />}\r\n            onClick={this.props.back}\r\n          >\r\n            Return to List\r\n          </Button>\r\n        </div>\r\n        <span className=\"issue-title\">{issue.title}</span>\r\n        <Divider />\r\n        <div class=\"issue-body\">\r\n          <div className=\"markdown-body tip tip-left\">\r\n            <Comment\r\n              author={\r\n                <header className=\"comment-header\">\r\n                  <span className=\"issue-author\">\r\n                    {issue.user ? issue.user.login : null}\r\n                  </span>\r\n                </header>\r\n              }\r\n              avatar={\r\n                <Avatar\r\n                  shape=\"square\"\r\n                  size=\"large\"\r\n                  src={issue.user ? issue.user.avatar_url : null}\r\n                  alt={issue.user ? issue.user.login : null}\r\n                />\r\n              }\r\n              content={<ReactMarkdown>{issue.body}</ReactMarkdown>}\r\n            />\r\n          </div>\r\n        </div>\r\n        <Divider />\r\n        <div ref={this.commentBox} className=\"comment-box\"></div>\r\n      </p>\r\n    );\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/lp-badge-white.87e3ef5c.svg\";","import \"./../styles/Header.scss\";\r\nimport \"bulma/css/bulma.css\";\r\nimport image from \"./../assets/lp-badge-white.svg\";\r\nimport { GithubOutlined } from \"@ant-design/icons\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <div className=\"hero-head\">\r\n      <nav className=\"navbar lp-navbar\" role=\"navigation\">\r\n        <div className=\"container\">\r\n          <div className=\"navbar-brand\">\r\n            <a className=\"navbar-item\" href=\"https://layout-parser.github.io/\">\r\n              <img src={image} alt=\"Logo\" className=\"lp-badge\"></img>\r\n            </a>\r\n\r\n            <div\r\n              className=\"navbar-burger\"\r\n              data-target=\"navbar-main\"\r\n              onClick={function () {\r\n                document\r\n                  .querySelector(\".navbar-menu\")\r\n                  .classList.toggle(\"is-active\");\r\n              }}\r\n            >\r\n              <span></span>\r\n              <span></span>\r\n              <span></span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"navbar-menu\" id=\"navbar-main\">\r\n            <div className=\"navbar-end\">\r\n              <a\r\n                href=\"https://layout-parser.github.io/tutorials.html\"\r\n                onMouseDown={(e) => {e.preventDefault();}}\r\n                className=\"navbar-item\"\r\n              >\r\n                Tutorials\r\n              </a>\r\n              <a\r\n                href=\"https://layout-parser.readthedocs.io/en/latest/\"\r\n                rel=\"noreferrer\"\r\n                target=\"_blank\"\r\n                onMouseDown={(e) => {e.preventDefault();}}\r\n                className=\"navbar-item\"\r\n              >\r\n                Docs\r\n              </a>\r\n              <a\r\n                href=\"https://join.slack.com/t/layout-parser/shared_invite/zt-ohjd14k1-OrJ2HltwVRGrxhLeHMfW_w\"\r\n                onMouseDown={(e) => {e.preventDefault();}}\r\n                className=\"navbar-item\"\r\n              >\r\n                Discussion\r\n              </a>\r\n              <div className=\"navbar-item\">\r\n                <a\r\n                  href=\"https://github.com/Layout-Parser/layout-parser\"\r\n                  rel=\"noreferrer\"\r\n                  target=\"_blank\"\r\n                  className=\"icon bg-transparent button is-danger\"\r\n                >\r\n                  <GithubOutlined />\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import \"./styles/App.scss\";\nimport Model from \"./Model\";\n\nimport Header from \"./components/header\";\nimport React, { Component } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\n\nimport { Row, Col } from \"antd\";\nimport \"antd/dist/antd.css\";\n\nconst { Octokit } = require(\"@octokit/rest\");\nconst octokit = new Octokit();\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    var ua = navigator.userAgent;\n    this.isMobile = /Android|iPhone/i.test(ua);\n    this.isMobile = !this.isMobile;\n    this.state = {\n      issues: [],\n      page: \"main\",\n      issueNumber: -1,\n      issue: null,\n    };\n    this.backToMain = this.backToMain.bind(this);\n  }\n\n  backToMain() {\n    this.setState({\n      page: \"main\",\n      issueNumber: -1,\n      issue: null,\n    });\n  }\n\n  componentDidMount() {\n    octokit\n      .request(\"GET /repos/WeiningLi/card-forum/issues\")\n      .then((response) => this.setState({ issues: response.data }));\n  }\n\n  drawRows = (issues) => {\n    if (issues.length === 0) return null;\n    var cols = [];\n    issues.forEach((issue) => {\n      cols.push(\n        <Col span={this.isMobile ? 24 : 8} className=\"center-col\">\n          <div\n            className=\"model-card\"\n            id={issue.number}\n            onClick={(event) => {\n              var trackEvent = event.target;\n              var issue;\n              if (!event.target.id) {\n                while (!trackEvent.id) {\n                  trackEvent = trackEvent.parentElement;\n                }\n              }\n              issues.forEach((aIssue) => {\n                console.log(trackEvent.id);\n                if (aIssue.number.toString() === trackEvent.id) {\n                  issue = aIssue;\n                }\n              });\n              this.setState({\n                page: \"comments\",\n                issueNumber: trackEvent.id,\n                issue: issue,\n              });\n            }}\n          >\n            <span id={issue.number} className=\"card-title\">\n              {issue.title}\n            </span>\n            <ReactMarkdown\n              onClick={(e) => {\n                e.preventDefault();\n              }}\n              id={issue.number}\n              className=\"card-body\"\n            >\n              {issue.body}\n            </ReactMarkdown>\n            <span id={issue.number} className=\"card-author\">\n              {issue.user.login}\n            </span>\n          </div>\n        </Col>\n      );\n    });\n    return cols;\n  };\n\n  drawModels = () => {\n    const { issues } = this.state;\n    var rows = [];\n    var i,\n      j,\n      groupedIssues,\n      chunk = 3;\n    const openingIssues = issues.filter((issue) => issue.state === \"open\");\n    for (i = 0, j = openingIssues.length; i < j; i += chunk) {\n      groupedIssues = openingIssues.slice(i, i + chunk);\n      rows.push(<Row>{this.drawRows(groupedIssues)}</Row>);\n    }\n    // console.log(openingIssues);\n    return rows;\n  };\n\n  sideBarIssues = (category) => {\n    const { issues } = this.state;\n    var models = [];\n    const openingIssues = issues.filter((issue) => issue.state === \"open\");\n    openingIssues.forEach((issue) => {\n      const labels = issue.labels.map((issue) => issue.name);\n      if (labels.includes(category)) {\n        models.push(\n          <li>\n            <a\n              id={issue.number}\n              onClick={(event) => {\n                var issue;\n                issues.forEach((aIssue) => {\n                  if (aIssue.number.toString() === event.target.id) {\n                    issue = aIssue;\n                  }\n                });\n                this.setState({\n                  page: \"comments\",\n                  issueNumber: event.target.id,\n                  issue: issue,\n                });\n              }}\n            >\n              {issue.title}\n            </a>\n          </li>\n        );\n      }\n    });\n    return models;\n  };\n\n  render() {\n    const { page, issue } = this.state;\n    console.log(\"issues\", issue);\n    return (\n      <div>\n        <Header />\n        {page === \"main\" ? (\n          <Row>\n            {this.isMobile ? null : (\n              <Col span={4}>\n                <aside className=\"menu menu-padding\">\n                  <p className=\"menu-label\">Models</p>\n                  <ul className=\"menu-list\">{this.sideBarIssues(\"model\")}</ul>\n                  <p className=\"menu-label\">Pipelines</p>\n                  <ul className=\"menu-list\">\n                    {this.sideBarIssues(\"pipeline\")}\n                  </ul>\n                </aside>\n              </Col>\n            )}\n            <Col span={this.isMobile ? 24 : 20}>\n              <div className=\"site-card-wrapper\">\n                <span className=\"title\">Models / Pipelines</span>\n                {this.drawModels()}\n              </div>\n            </Col>\n          </Row>\n        ) : (\n          <Model issue={issue} back={this.backToMain} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Route, BrowserRouter as Router } from 'react-router-dom'\r\nimport App from './App'\r\n\r\nconst routing = (\r\n  <Router>\r\n    <div>\r\n      <Route exact path=\"/community-platform\" component={App}/>\r\n    </div>\r\n  </Router>\r\n)\r\n\r\nReactDOM.render(routing, document.getElementById('root'))"],"sourceRoot":""}