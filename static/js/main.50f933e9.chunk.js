(this["webpackJsonplp-forum"]=this["webpackJsonplp-forum"]||[]).push([[0],{141:function(e,t,a){},142:function(e,t,a){},221:function(e,t,a){},231:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(32),i=a.n(r),c=a(128),l=a(10),o=a(100),u=a(22),d=a(55),h=a(27),b=a(25),j=a(26),m=(a(141),a(23)),p=a.n(m),f=a(37),v=(a(142),a(73)),g=a.n(v),x=(a(219),a(238)),O=a(237),y=a(233),N=a(234),w=a(236),k=a(240),S=a(5),M=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).commentBox=n.a.createRef(),s.id=s.props.issue.number.toString(),s.state={issue:s.props.issue},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("script")).setAttribute("src","https://utteranc.es/client.js"),t.setAttribute("repo","WeiningLi/card-forum"),t.setAttribute("issue-number",this.id),t.setAttribute("theme","github-light"),t.setAttribute("crossorigin","anonymous"),t.setAttribute("async",!0),this.commentBox.current.appendChild(t);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.issue,t=this.props.isMobile;return Object(S.jsxs)("p",{className:"model-container",children:[Object(S.jsx)(x.a,{children:Object(S.jsx)(O.a,{className:"return-btn",type:"link",icon:Object(S.jsx)(k.a,{}),onClick:this.props.back,children:"Return"})}),Object(S.jsx)(y.a,{className:"top-divider"}),Object(S.jsx)("span",{className:"issue-title",children:e.title}),Object(S.jsx)("div",{class:"issue-body",children:Object(S.jsx)("div",{className:"markdown-body tip tip-left",children:Object(S.jsx)(N.a,{author:Object(S.jsx)("header",{className:"comment-header",children:Object(S.jsx)("span",{className:"issue-author",children:e.user?e.user.login:null})}),avatar:t?null:Object(S.jsx)(w.a,{shape:"square",className:"author-avatar",src:e.user?e.user.avatar_url:null,alt:e.user?e.user.login:null}),content:Object(S.jsx)(g.a,{children:e.body})})})}),Object(S.jsx)(y.a,{className:"top-divider"}),Object(S.jsx)("div",{ref:this.commentBox,className:"comment-box"})]})}}]),a}(s.Component),C=(a(221),a(222),a.p+"static/media/lp-badge-white.87e3ef5c.svg"),D=a(241);var T=function(){return Object(S.jsx)("div",{className:"hero-head header-color",children:Object(S.jsx)("div",{className:"layout-left-space layout-right-space",children:Object(S.jsxs)("nav",{className:"navbar lp-navbar",role:"navigation",children:[Object(S.jsxs)("div",{className:"navbar-brand",children:[Object(S.jsx)("a",{className:"navbar-item",href:"https://layout-parser.github.io/",children:Object(S.jsx)("img",{src:C,alt:"Logo",className:"lp-badge"})}),Object(S.jsxs)("div",{className:"navbar-burger","data-target":"navbar-main",onClick:function(){document.querySelector(".navbar-menu").classList.toggle("is-active")},children:[Object(S.jsx)("span",{}),Object(S.jsx)("span",{}),Object(S.jsx)("span",{})]})]}),Object(S.jsx)("div",{className:"navbar-menu",id:"navbar-main",children:Object(S.jsxs)("div",{className:"navbar-end",children:[Object(S.jsx)("a",{href:"https://layout-parser.github.io/tutorials.html",onMouseDown:function(e){e.preventDefault()},className:"navbar-item",children:"Tutorials"}),Object(S.jsx)("a",{href:"https://layout-parser.readthedocs.io/en/latest/",rel:"noreferrer",target:"_blank",onMouseDown:function(e){e.preventDefault()},className:"navbar-item",children:"Docs"}),Object(S.jsx)("a",{href:"https://join.slack.com/t/layout-parser/shared_invite/zt-ohjd14k1-OrJ2HltwVRGrxhLeHMfW_w",onMouseDown:function(e){e.preventDefault()},className:"navbar-item",children:"Discussion"}),Object(S.jsx)("div",{className:"navbar-item",children:Object(S.jsx)("a",{href:"https://github.com/Layout-Parser/layout-parser",rel:"noreferrer",target:"_blank",className:"icon bg-transparent button is-danger",children:Object(S.jsx)(D.a,{})})})]})})]})})})},L=a(235),E=a(239),A=(a(223),new(0,a(230).Octokit)),R=L.a.Option,_=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var s;Object(u.a)(this,a),(s=t.call(this,e)).updateDimensions=function(){var e=window.innerWidth,t=s.state.smallScreen;e<760&&!t&&s.setState({smallScreen:!0}),e>760&&t&&s.setState({smallScreen:!1})},s.drawRows=function(e){if(0===e.length)return null;var t=[];return e.forEach((function(a){t.push(Object(S.jsx)(E.a,{span:s.isMobile||s.state.smallScreen?24:12,className:"center-col",children:Object(S.jsxs)("div",{className:"model-card",id:a.number,onClick:function(t){var a,n=t.target;if(!t.target.id)for(;!n.id;)n=n.parentElement;e.forEach((function(e){e.number.toString()===n.id&&(a=e)})),s.setState({page:"comments",issueNumber:n.id,issue:a})},children:[Object(S.jsx)("span",{id:a.number,className:"card-title",children:a.title}),Object(S.jsx)(g.a,{onClick:function(e){e.preventDefault()},id:a.number,className:"card-body",children:a.body}),Object(S.jsx)("span",{id:a.number,className:"card-author",children:a.user.login})]})}))})),t},s.sortIssues=function(e){var t=s.state.sortby;"alpha"===t?e.sort((function(e,t){var a=e.title,s=t.title;return a<s?-1:a>s?1:0})):"date"===t?e.sort((function(e,t){var a=new Date(e.updated_at),s=new Date(t.updated_at);return a<s?1:a>s?-1:0})):e.sort((function(e,t){var a=e.comments,s=t.comments;return a<s?1:a>s?-1:0})),console.log(e)},s.drawModels=function(){var e=s.state,t=e.issues,a=e.category,n=e.tags,r=e.seacrhText,i=e.modelCount,c=[];if(t.forEach((function(e){var t=e.labels.map((function(e){return e.name})),s=a.some((function(e){return t.includes(e)})),r=n.every((function(e){return t.includes(e)}));s&&r&&c.push(e)})),""!==r&&(c=c.filter((function(e){return e.title.toLowerCase().includes(r)||e.body.toLowerCase().includes(r)}))),!c.length)return Object(S.jsx)(x.a,{children:Object(S.jsx)("span",{className:"err-msg",children:"No results found! Please try search again."})});s.sortIssues(c),i!==c.length&&s.setState({modelCount:c.length});var l,o,u,d=[],h=c.filter((function(e){return"open"===e.state}));for(l=0,o=h.length;l<o;l+=2)u=h.slice(l,l+2),d.push(Object(S.jsx)(x.a,{children:s.drawRows(u)}));return d},s.tag=function(e){return Object(S.jsx)("button",{className:s.state.tags.includes(e)||s.state.category.includes(e)?"selected-tag":"unselected-tag",onClick:function(){s.flipTag(e)},children:e})},s.flipTag=function(e){if("model"===e||"pipeline"===e){var t=Object(o.a)(s.state.category);t.includes(e)?s.setState({category:s.state.category.filter((function(t){return t!==e}))}):(t.push(e),s.setState({category:t}))}else{var a=Object(o.a)(s.state.tags);a.includes(e)?s.setState({tags:s.state.tags.filter((function(t){return t!==e}))}):(a.push(e),s.setState({tags:a}))}},s.drawTags=function(){var e=s.state.issues,t=new Set,a=[];return e.forEach((function(e){var a=e.labels.map((function(e){return e.name}));(a.includes("model")||a.includes("pipeline"))&&a.forEach((function(e){t.add(e)}))})),t.delete("model"),t.delete("pipeline"),t.forEach((function(e){a.push(s.tag(e))})),a},s.state={issues:[],page:"main",issueNumber:-1,issue:null,category:["model","pipeline"],tags:[],seacrhText:"",modelCount:0,smallScreen:window.innerWidth<760,sortby:"popular"};var r=navigator.userAgent;return s.isMobile=/Android|iPhone/i.test(r),s.backToMain=s.backToMain.bind(Object(h.a)(s)),s.searchRef=n.a.createRef(),s}return Object(d.a)(a,[{key:"backToMain",value:function(){this.setState({page:"main",issueNumber:-1,issue:null})}},{key:"componentDidMount",value:function(){var e=this;A.request("GET /repos/WeiningLi/card-forum/issues").then((function(t){return e.setState({issues:t.data})})),window.addEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this,t=this.state,a=t.page,s=t.issue,n=t.modelCount,r=t.smallScreen;return Object(S.jsxs)("div",{children:[Object(S.jsx)(T,{}),"main"===a?Object(S.jsxs)(x.a,{children:[this.isMobile||r?null:Object(S.jsx)(E.a,{span:8,className:"menu-shadow",children:Object(S.jsxs)("aside",{className:"menu inner-left-space inner-top-space",children:[Object(S.jsx)("p",{className:"menu-label",children:"Categories"}),Object(S.jsxs)(x.a,{children:[this.tag("model"),this.tag("pipeline")]}),Object(S.jsx)("p",{className:"menu-label",children:"Tags"}),Object(S.jsx)(x.a,{children:this.drawTags()})]})}),Object(S.jsx)(E.a,{span:this.isMobile||r?24:16,children:Object(S.jsxs)("div",{className:"site-card-wrapper layout-right-space inner-top-space",children:[Object(S.jsxs)(x.a,{style:{marginBottom:"10px"},children:[Object(S.jsx)("span",{className:"title",children:"Models/Pipelines: "+n.toString()}),Object(S.jsx)("input",{ref:this.searchRef,className:"search-bar",placeholder:"Search",onChange:function(){e.setState({seacrhText:e.searchRef.current.value.toLowerCase()})}}),this.isMobile||r?null:Object(S.jsxs)("span",{className:"sort-text",style:{display:"flex",marginLeft:"3vw",color:"gray",alignItems:"center"},children:["Sort by:",Object(S.jsxs)(L.a,{defaultValue:"popular",style:{marginLeft:"10px",outline:"none",width:"120px"},onChange:function(t){e.setState({sortby:t})},children:[Object(S.jsx)(R,{value:"popular",children:"Popularity"}),Object(S.jsx)(R,{value:"alpha",children:"Alphabetical"}),Object(S.jsx)(R,{value:"date",children:"Updated at"})]})]})]}),this.drawModels()]})})]}):Object(S.jsx)(M,{issue:s,back:this.backToMain,isMobile:this.isMobile})]})}}]),a}(s.Component),B=Object(S.jsx)(c.a,{children:Object(S.jsx)("div",{children:Object(S.jsx)(l.a,{exact:!0,path:"/community-platform",component:_})})});i.a.render(B,document.getElementById("root"))}},[[231,1,2]]]);
//# sourceMappingURL=main.50f933e9.chunk.js.map